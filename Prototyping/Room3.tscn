[gd_scene load_steps=24 format=2]

[ext_resource path="res://LightBakes/Room3.lmbake" type="BakedLightmapData" id=1]
[ext_resource path="res://Objects/SingleCrystalDoor.tscn" type="PackedScene" id=2]
[ext_resource path="res://Objects/Torch.tscn" type="PackedScene" id=3]
[ext_resource path="res://Objects/HalfWall.tscn" type="PackedScene" id=4]
[ext_resource path="res://Objects/StoneWall.tscn" type="PackedScene" id=5]
[ext_resource path="res://Objects/OneSidedUV.tscn" type="PackedScene" id=6]
[ext_resource path="res://Objects/CrystalRedAnimated.tscn" type="PackedScene" id=7]
[ext_resource path="res://Objects/BigWallWithArc.tscn" type="PackedScene" id=8]
[ext_resource path="res://Objects/Pillar.tscn" type="PackedScene" id=9]
[ext_resource path="res://Assets/Materials/cliff_jagged_COL_1k.png" type="Texture" id=10]
[ext_resource path="res://Assets/Materials/cliff_jagged_NRM_1k.png" type="Texture" id=11]
[ext_resource path="res://Assets/Materials/TilesTerracottaSmall.jpg" type="Texture" id=12]
[ext_resource path="res://Assets/Materials/TilesTerracottaSmallNRM.jpg" type="Texture" id=13]
[ext_resource path="res://Logic/TextTrigger.tscn" type="PackedScene" id=14]
[ext_resource path="res://Objects/PyramidStand.tscn" type="PackedScene" id=15]
[ext_resource path="res://Objects/Sword.tscn" type="PackedScene" id=16]
[ext_resource path="res://Prototyping/Room3.gd" type="Script" id=17]

[sub_resource type="SpatialMaterial" id=7]
albedo_texture = ExtResource( 12 )
normal_enabled = true
normal_scale = 16.0
normal_texture = ExtResource( 13 )
uv1_scale = Vector3( 3, 2, 1 )

[sub_resource type="ArrayMesh" id=11]
resource_name = "OneSidedUV_Cube"
lightmap_size_hint = Vector2( 326, 278 )
surfaces/0 = {
"aabb": AABB( -1, -0.0343422, -1, 2, 0.0686843, 2.00001 ),
"array_data": PoolByteArray( 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 63, 129, 0, 116, 1, 37, 39, 203, 59, 31, 58, 134, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 191, 129, 0, 116, 1, 13, 45, 218, 59, 172, 38, 97, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 63, 129, 0, 116, 1, 170, 38, 207, 59, 31, 58, 97, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 191, 129, 0, 116, 1, 232, 44, 214, 59, 172, 38, 134, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 191, 127, 127, 64, 94, 232, 44, 214, 59, 172, 38, 156, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 191, 127, 127, 189, 93, 13, 45, 109, 59, 40, 56, 193, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 191, 127, 127, 67, 93, 13, 45, 218, 59, 172, 38, 193, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 191, 127, 127, 187, 92, 238, 44, 113, 59, 40, 56, 156, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 191, 127, 0, 116, 127, 238, 44, 113, 59, 17, 35, 75, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 63, 127, 0, 116, 127, 170, 38, 97, 59, 6, 58, 38, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 191, 127, 0, 116, 127, 13, 45, 109, 59, 17, 35, 38, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 63, 127, 0, 116, 127, 62, 39, 101, 59, 6, 58, 75, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 63, 0, 0, 65, 32, 62, 39, 101, 59, 172, 38, 215, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 63, 0, 0, 189, 33, 170, 38, 207, 59, 40, 56, 252, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 63, 0, 0, 67, 33, 170, 38, 97, 59, 172, 38, 252, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 63, 0, 0, 187, 34, 37, 39, 203, 59, 40, 56, 215, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 191, 0, 129, 127, 120, 232, 44, 214, 59, 237, 55, 93, 23, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 63, 0, 129, 127, 120, 62, 39, 101, 59, 72, 22, 243, 58, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 191, 0, 129, 127, 120, 238, 44, 113, 59, 72, 22, 93, 23, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 63, 0, 129, 127, 120, 37, 39, 203, 59, 237, 55, 243, 58, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 191, 0, 127, 0, 63, 0, 0, 0, 0, 9, 56, 36, 36, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 63, 0, 127, 0, 63, 255, 59, 255, 59, 252, 59, 16, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 191, 0, 127, 0, 63, 0, 0, 0, 60, 252, 59, 36, 36, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 63, 0, 127, 0, 63, 255, 59, 0, 0, 9, 56, 16, 59 ),
"array_index_data": PoolByteArray( 0, 0, 1, 0, 2, 0, 0, 0, 3, 0, 1, 0, 4, 0, 5, 0, 6, 0, 4, 0, 7, 0, 5, 0, 8, 0, 9, 0, 10, 0, 8, 0, 11, 0, 9, 0, 12, 0, 13, 0, 14, 0, 12, 0, 15, 0, 13, 0, 16, 0, 17, 0, 18, 0, 16, 0, 19, 0, 17, 0, 20, 0, 21, 0, 22, 0, 20, 0, 23, 0, 21, 0 ),
"blend_shape_data": [  ],
"format": 2194743,
"index_count": 36,
"material": SubResource( 7 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 24
}

[sub_resource type="SpatialMaterial" id=9]
albedo_texture = ExtResource( 10 )
normal_enabled = true
normal_scale = 1.0
normal_texture = ExtResource( 11 )
uv1_scale = Vector3( 3, 2, 1 )

[sub_resource type="ArrayMesh" id=10]
resource_name = "OneSidedUV_Cube"
lightmap_size_hint = Vector2( 326, 278 )
surfaces/0 = {
"aabb": AABB( -1, -0.0343422, -1, 2, 0.0686843, 2.00001 ),
"array_data": PoolByteArray( 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 63, 129, 0, 116, 1, 37, 39, 203, 59, 31, 58, 134, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 191, 129, 0, 116, 1, 13, 45, 218, 59, 172, 38, 97, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 63, 129, 0, 116, 1, 170, 38, 207, 59, 31, 58, 97, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 191, 129, 0, 116, 1, 232, 44, 214, 59, 172, 38, 134, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 191, 127, 127, 64, 94, 232, 44, 214, 59, 172, 38, 156, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 191, 127, 127, 189, 93, 13, 45, 109, 59, 40, 56, 193, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 191, 127, 127, 67, 93, 13, 45, 218, 59, 172, 38, 193, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 191, 127, 127, 187, 92, 238, 44, 113, 59, 40, 56, 156, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 191, 127, 0, 140, 127, 238, 44, 113, 59, 17, 35, 75, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 63, 127, 0, 140, 127, 170, 38, 97, 59, 6, 58, 38, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 191, 127, 0, 140, 127, 13, 45, 109, 59, 17, 35, 38, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 63, 127, 0, 140, 127, 62, 39, 101, 59, 6, 58, 75, 59, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 63, 0, 0, 65, 32, 62, 39, 101, 59, 172, 38, 215, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 63, 0, 0, 189, 33, 170, 38, 207, 59, 40, 56, 252, 59, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 63, 0, 0, 67, 33, 170, 38, 97, 59, 172, 38, 252, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 63, 0, 0, 187, 34, 37, 39, 203, 59, 40, 56, 215, 59, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 191, 0, 129, 127, 120, 232, 44, 214, 59, 237, 55, 93, 23, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 63, 0, 129, 127, 120, 62, 39, 101, 59, 72, 22, 243, 58, 0, 0, 128, 63, 96, 170, 12, 189, 0, 0, 128, 191, 0, 129, 127, 120, 238, 44, 113, 59, 72, 22, 93, 23, 0, 0, 128, 191, 96, 170, 12, 189, 0, 0, 128, 63, 0, 129, 127, 120, 37, 39, 203, 59, 237, 55, 243, 58, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 191, 0, 127, 0, 63, 0, 0, 0, 0, 9, 56, 36, 36, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 63, 0, 127, 0, 63, 255, 59, 255, 59, 252, 59, 16, 59, 0, 0, 128, 191, 96, 170, 12, 61, 0, 0, 128, 191, 0, 127, 0, 63, 0, 0, 0, 60, 252, 59, 36, 36, 0, 0, 128, 63, 96, 170, 12, 61, 0, 0, 128, 63, 0, 127, 0, 63, 255, 59, 0, 0, 9, 56, 16, 59 ),
"array_index_data": PoolByteArray( 0, 0, 1, 0, 2, 0, 0, 0, 3, 0, 1, 0, 4, 0, 5, 0, 6, 0, 4, 0, 7, 0, 5, 0, 8, 0, 9, 0, 10, 0, 8, 0, 11, 0, 9, 0, 12, 0, 13, 0, 14, 0, 12, 0, 15, 0, 13, 0, 16, 0, 17, 0, 18, 0, 16, 0, 19, 0, 17, 0, 20, 0, 21, 0, 22, 0, 20, 0, 23, 0, 21, 0 ),
"blend_shape_data": [  ],
"format": 2194743,
"index_count": 36,
"material": SubResource( 9 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 24
}

[sub_resource type="CubeMesh" id=6]
size = Vector3( 8.4, 12, 0.5 )

[sub_resource type="BoxShape" id=12]

[node name="Room" type="Spatial"]
script = ExtResource( 17 )

[node name="Walls" type="Spatial" parent="."]

[node name="BigWallWithArc2" parent="Walls" instance=ExtResource( 8 )]
transform = Transform( 0.999997, 0, 0, 0, 0.999997, 0, 0, 0, 0.999997, 2.09412, -0.0488375, 5.67194 )

[node name="BigWallWithArc3" parent="Walls" instance=ExtResource( 8 )]
transform = Transform( 0.999997, 0, 0, 0, 0.999997, 0, 0, 0, 0.999997, 2.094, -0.049, 18.0799 )

[node name="StoneWall9" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, -4.18881, 1.86913, 4.01152 )

[node name="StoneWall23" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, -4.14795, 1.86913, 8.36291 )

[node name="StoneWall24" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, -4.10569, 1.86913, 12.863 )

[node name="StoneWall25" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, -4.07894, 1.86913, 15.7117 )

[node name="StoneWall12" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 4.26813, 1.86913, 3.9982 )

[node name="StoneWall13" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 4.26813, 1.86913, -0.0336647 )

[node name="StoneWall14" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 4.23902, 1.86913, -4.0703 )

[node name="StoneWall17" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 4.26813, 1.86913, 16.0446 )

[node name="StoneWall18" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 4.26813, 1.86913, 12.0043 )

[node name="StoneWall19" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 4.23902, 1.86913, 7.95621 )

[node name="StoneWall20" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 0.156236, 1.86913, 16.0599 )

[node name="StoneWall21" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 0.156236, 1.86913, 12.0043 )

[node name="StoneWall22" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, 0.127126, 1.86913, 7.9721 )

[node name="StoneWall15" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.38482, 1.86913, -5.85804 )

[node name="StoneWall16" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.82184, 1.86913, 5.72351 )

[node name="StoneWall26" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.82184, 1.86913, 17.8876 )

[node name="StoneWall10" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, -4.22414, 1.86913, 0.000291944 )

[node name="StoneWall11" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -0.00938978, 0, 0.999956, 0, 1, 0, -0.999956, 0, -0.00938978, -4.25514, 1.86913, -4.03617 )

[node name="Torch" parent="Walls" instance=ExtResource( 3 )]
transform = Transform( -4.36108e-08, -0.0678063, 0.997698, -2.96391e-09, 0.997698, 0.0678063, -1, 0, -4.37114e-08, 4.02292, 1.23247, 0.104057 )

[node name="Torch3" parent="Walls" instance=ExtResource( 3 )]
transform = Transform( -4.36108e-08, -0.0678063, 0.997698, -2.96391e-09, 0.997698, 0.0678063, -1, 0, -4.37114e-08, 4.02292, 1.39005, 11.7494 )

[node name="Torch4" parent="Walls" instance=ExtResource( 3 )]
transform = Transform( 0.0933611, 0.0675102, -0.99334, -2.96391e-09, 0.997698, 0.0678063, 0.995632, -0.00633047, 0.0931462, 0.341765, 1.39005, 11.7494 )

[node name="Torch2" parent="Walls" instance=ExtResource( 3 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -4.02555, 1.23247, -3.07707 )

[node name="Pillar" parent="Walls" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 0.790993, 0, 0, 0, 1, 2.98905, -0.018486, -4.45619 )

[node name="Pillar2" parent="Walls" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 0.790993, 0, 0, 0, 1, -2.55285, -0.018486, 3.56335 )

[node name="HalfWall2" parent="Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.25916, 1.39522, -5.62832 )

[node name="Floor" parent="Walls" instance=ExtResource( 6 )]
transform = Transform( -4, 0, -5.24537e-07, 0, 1, 0, 3.49691e-07, 0, -6, 0, 0.0172733, 0 )

[node name="Cube" parent="Walls/Floor" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, -1.77636e-14, 0, 1, 0, -0.0765085, 0 )
mesh = SubResource( 11 )

[node name="Ceiling" parent="Walls" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, -1, 9.05975e-07, 0, -1.50996e-07, -6, 0.0777035, 3.81427, 0 )

[node name="Cube" parent="Walls/Ceiling" index="0"]
transform = Transform( 1.02795, 0, 0, 0, 1, 1.7053e-13, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 10 )

[node name="CeilingSolid2" type="MeshInstance" parent="Walls"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 4.08558, 12 )
mesh = SubResource( 6 )
skeleton = NodePath("../..")
material/0 = null

[node name="Ceiling2" parent="Walls" instance=ExtResource( 6 )]
transform = Transform( 4, 0, 0, 0, -1, 9.05975e-07, 0, -1.50996e-07, -6, 0.0777035, 3.81427, 12 )

[node name="Cube" parent="Walls/Ceiling2" index="0"]
transform = Transform( 1.02795, 0, 0, 0, 1, 1.7053e-13, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 10 )

[node name="CeilingSolid" type="MeshInstance" parent="Walls"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 4.08558, 0 )
mesh = SubResource( 6 )
skeleton = NodePath("../..")
material/0 = null

[node name="Floor2" parent="Walls" instance=ExtResource( 6 )]
transform = Transform( -4, 0, -5.24537e-07, 0, 1, 0, 3.49691e-07, 0, -6, 0, 0.017, 12 )

[node name="Cube" parent="Walls/Floor2" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, -1.77636e-14, 0, 1, 0, -0.0765085, 0 )
mesh = SubResource( 11 )

[node name="StaticBody" type="StaticBody" parent="Walls/Floor2"]

[node name="CollisionShape" type="CollisionShape" parent="Walls/Floor2/StaticBody"]
transform = Transform( 1, 0, 0, 0, 0.19894, 0, 0, 0, 1, 0, -0.240398, 0 )
shape = SubResource( 12 )

[node name="BakedLightmap" type="BakedLightmap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000412703, 1.91919, 5.70587 )
extents = Vector3( 4.64131, 2.48226, 12.852 )
quality = 2
light_data = ExtResource( 1 )

[node name="ReflectionProbe" type="ReflectionProbe" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.056746, 1.36446, 0.288231 )
extents = Vector3( 4.14095, 1.88525, 6.07429 )
origin_offset = Vector3( 0, 0, 0.000976563 )
interior_enable = true

[node name="Room3Message1" parent="." instance=ExtResource( 14 )]
transform = Transform( -0.0193545, 0, 2.40013, 0, 1, 0, -0.999813, 0, -0.0464619, 1.05441, 0.680265, 4.53523 )
text = "He was paralyzed when he discovered the secret relationship between Namun and Imhotep."
duration = 5.0

[node name="Room3Message2" parent="." instance=ExtResource( 14 )]
transform = Transform( 4.98127, 0, 0, 0, 2.8509, 0, 0, 0, 1, -0.689845, 0, -1.94379 )
text = "In the heat of the moment the highpriest stabbed the Pharaoh with his own sword."
duration = 6.0

[node name="PyramidStand" parent="." instance=ExtResource( 15 )]
transform = Transform( 0.166634, 0, 0, 0, 0.657486, 0, 0, 0, 0.166634, 0, 0, 0 )

[node name="Sword" parent="." instance=ExtResource( 16 )]
transform = Transform( -0.952384, 0.0390675, 0.302387, -0.0409863, -0.99916, 0, 0.302132, -0.0123937, 0.953185, 0, 1.38346, 0 )
pullable = true

[node name="Crystal" parent="." instance=ExtResource( 7 )]
transform = Transform( -4.37114e-08, 0.965926, -0.258819, 0, 0.258819, 0.965926, 1, 4.2222e-08, -1.13133e-08, 0.0125316, 1.18416, 5.47773e-10 )

[node name="SingleCrystalDoor" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.958858, 1.70141, -5.7423 )

[editable path="Walls/Floor"]
[editable path="Walls/Ceiling"]
[editable path="Walls/Ceiling2"]
[editable path="Walls/Floor2"]
